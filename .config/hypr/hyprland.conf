# Hyprland config
# See https://wiki.hyprland.org/

source = ./modules/themes/catppuccin-mocha/hyprland.conf

# Monitors

monitor = DP-2, 1920x1080@165, 1600x-108, 1
monitor = HDMI-A-1, 1920x1080@75, 0x0, 1.2
monitor = eDP-1, 1920x1080@60, 0x0, 1.5
monitor = , highrr, auto, auto


# Autostart

exec-once = swaync
exec-once = systemctl --user start hyprpolkitagent
exec-once = waybar
exec-once = hyprpaper
exec-once = hyprpm reload -n


# Environment variables

xwayland {
  force_zero_scaling = true
}
env = GDK_SCALE,1.2
env = XCURSOR_SIZE,24
env = XCURSOR_THEME,'Catppuccin Mocha Rosewater'
env = HYPRCURSOR_SIZE,24
env = HYPRCURSOR_THEME,'Catppuccin Mocha Rosewater'
env = ELECTRON_OZONE_PLATFORM_HINT,wayland
env = EDITOR,vim


# Look and feel

general {
  gaps_in = 5
  gaps_out = 10
  border_size = 2
  resize_on_border = false
  allow_tearing = true
  layout = dwindle
}

decoration {
  rounding = 10
  rounding_power = 2
  active_opacity = 1.0
  inactive_opacity = 1.0

  shadow {
    enabled = false
  }

  blur {
    enabled = true
    size = 3
    passes = 5
    vibrancy = 1
  }
}

animations {
  enabled = no, please :)
}

dwindle {
  pseudotile = false
  preserve_split = true # You probably want this
}

master {
  new_status = master
}

misc {
  force_default_wallpaper = 0
  disable_hyprland_logo = false
  new_window_takes_over_fullscreen = 2
}

plugin {
  hyprsplit {
    num_workspaces = 4
    persistent_workspaces = true
  }
}


# Input

input {
  kb_layout = ie
  follow_mouse = 1
  sensitivity = -0.5 # -1.0 - 1.0, 0 means no modification.
  accel_profile = flat
  touchpad {
    natural_scroll = false
  }
}

device {
  name = usb-hid-gmmk-2-compact-tkl-65%
  kb_layout = us
}
device {
  name = synps/2-synaptics-touchpad
  sensitivity = 0
  natural_scroll = true
}
device {
  name = tpps/2-elan-trackpoint
  sensitivity = 0
}


# Keybindings

$mainMod = super

bind = $mainMod, q, killactive
bind = $mainMod shift, q, forcekillactive
bind = $mainMod, return, exec, kitty
bind = $mainMod shift, return, exec, [float; size 700 700] kitty
bind = $mainMod, space, exec, rofi -show drun
bind = $mainMod, tab, exec, rofi -show window
bind = , print, exec, grim -g "$(slurp -d)" - | wl-copy
bind = $mainMod shift, escape, exit
bind = $mainMod, escape, exec, hyprlock
bind = $mainMod, v, togglefloating
bind = $mainMod, f, fullscreen
bind = $mainMod, a, togglesplit, # dwindle
bind = $mainMod, b, exec, ~/scripts/restart-waybar.sh

# Move focus with mainMod + vim keys
bind = $mainMod, h, movefocus, l
bind = $mainMod, l, movefocus, r
bind = $mainMod, k, movefocus, u
bind = $mainMod, j, movefocus, d

# Move windows with mainMod + shift + vim keys
bind = $mainMod shift, h, movewindow, l
bind = $mainMod shift, l, movewindow, r
bind = $mainMod shift, k, movewindow, u
bind = $mainMod shift, j, movewindow, d

# Switch workspaces
bind = $mainMod, 1, split:workspace, 1
bind = $mainMod, 2, split:workspace, 2
bind = $mainMod, 3, split:workspace, 3
bind = $mainMod, 4, split:workspace, 4

# Move active window to a workspace with mainMod + SHIFT + [0-4]
bind = $mainMod shift, 1, split:movetoworkspace, 1
bind = $mainMod shift, 2, split:movetoworkspace, 2
bind = $mainMod shift, 3, split:movetoworkspace, 3
bind = $mainMod shift, 4, split:movetoworkspace, 4

# Swap active workspaces between monitors
bind = $mainMod, s, split:swapactiveworkspaces, 0 1

# Example special workspace (scratchpad)
bind = $mainMod, m, togglespecialworkspace, magic
bind = $mainMod shift, m, movetoworkspace, special:magic

# Scroll through existing workspaces with mainMod + scroll
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

# Move/resize windows with ma inMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272,  movewindow
bindm = $mainMod, mouse:273,  resizewindow

bind = $mainMod, r, submap, resize # will switch to a submap called resize
submap = resize
# sets repeatable binds for resizing the active window
binde = , l, resizeactive, 100 0
binde = , h, resizeactive, -100 0
binde = , k, resizeactive, 0 -100
binde = , j, resizeactive, 0 100
bind = , escape, submap, reset # use reset to go back to the global submap
submap = reset # will reset the submap, which will return to the global submap
# keybinds further down will be global again...j

# Laptop multimedia keys for  volume and LCD brightness
bindel = ,XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bindel = ,XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = ,XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = ,XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindel = ,XF86MonBrightnessUp, exec, brightnessctl s 10%+
bindel = ,XF86MonBrightnessDown, exec, brightnessctl s 10%-

# Requires playerctl
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous


# Windows and workspaces

# "Smart gaps" / "No gaps when only"
# workspace = w[tv1], gapsout:0, gapsin:0
# workspace = f[1], gapsout:0, gapsin:0
# windowrulev2 = bordersize 0, floating:0, onworkspace:w[tv1]
# windowrulev2 = rounding 0, floating:0, onworkspace:w[tv1]
# windowrulev2 = bordersize 0, floating:0, onworkspace:f[1]
# windowrulev2 = rounding 0, floating:0, onworkspace:f[1]

# Tear gd
windowrule = immediate, class:^(steam_app_322170:)$

# Ignore maximize requests from apps. You'll probably like this.
windowrule = suppressevent maximize, class:.*
# Fix some dragging issues with XWayland
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0
